export const trackGtag = async (eventName, search) => {
    try {
        if (window.gtag) {
            const response = await fetch('https://ipgeolocation.abstractapi.com/v1/?api_key=1c4acaa10922477bb9fb47f82a780a0b')
            const data = await response.json()
            const country = data.country_code;

            const params = new URLSearchParams(search)
            window.gtag('event', eventName, {
                landing_name: 'p151',
                media_source: params.get('utm_source'),
                uid: window.id,
                geo: country,
                campaign: params.get('utm_campaign'),
                ad: params.get('original_url_ad'),
                adset: params.get('no_adset'),
                user_agent: window.navigator.userAgent,
            })
        }
    } catch (e) {
        console.log(e)
    }
}